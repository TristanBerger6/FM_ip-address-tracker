{"version":3,"sources":["images/icon-arrow.svg","components/Form/Form.js","components/Infos/Infos.js","utils/constants.js","components/Map/Map.js","components/Home.js","index.js"],"names":["Form","props","className","onSubmit","for","id","onChange","e","target","value","preventDefault","type","placeholder","src","arrow","alt","Infos","data","ip","location","city","country","postalCode","timezone","isp","defaultData","lat","lng","errorData","Map","useState","map","setMap","marker","setMarker","useEffect","L","center","zoom","layers","tileLayer","attribution","cst","removeLayer","setView","addTo","Home","inputValue","setInputValue","enteredValue","setEnteredValue","setData","searchWith","setSearchWith","url","fetchData","a","fetch","res","status","json","alert","newValue","match","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8576d654.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/icon-arrow.2eaaa5ee.svg\";","import arrow from '../../images/icon-arrow.svg';\r\nimport './Form.scss';\r\nimport PropTypes from 'prop-types';\r\n\r\nfunction Form(props) {\r\n  const handleChange = (e) => {\r\n    props.onChange(e.target.value);\r\n    e.preventDefault();\r\n  };\r\n\r\n  return (\r\n    <form className=\"form\" onSubmit={props.onSubmit}>\r\n      <label className=\"sr-only\" for=\"ipAddress-Domain\">\r\n        Search for any IP adress or domain\r\n      </label>\r\n      <input\r\n        id=\"ipAddress-Domain\"\r\n        onChange={handleChange}\r\n        value={props.value}\r\n        type=\"text\"\r\n        placeholder=\"Search for any IP adress or domain\"\r\n      />\r\n      <button type=\"submit\">\r\n        <img src={arrow} alt=\"arrow icon\" />\r\n      </button>\r\n    </form>\r\n  );\r\n}\r\n\r\nForm.propTypes = {\r\n  onChange: PropTypes.func,\r\n  onSubmit: PropTypes.func,\r\n  value: PropTypes.string,\r\n};\r\n\r\nexport default Form;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './Infos.scss';\r\n\r\nfunction Infos(props) {\r\n  return (\r\n    <div className=\"infos grid\">\r\n      <div className=\"infos__item\">\r\n        <span>IP address</span>\r\n        <p>{props.data.ip}</p>\r\n      </div>\r\n      <div className=\"infos__item\">\r\n        <span>Location</span>\r\n        <p>\r\n          {props.data.location.city}, {props.data.location.country}{' '}\r\n          {props.data.location.postalCode}\r\n        </p>\r\n      </div>\r\n      <div className=\"infos__item\">\r\n        <span>Timezone</span>\r\n        <p>UTC {props.data.location.timezone}</p>\r\n      </div>\r\n      <div className=\"infos__item\">\r\n        <span>ISP</span>\r\n        <p>{props.data.isp}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nInfos.propTypes = {\r\n  data: PropTypes.object,\r\n};\r\n\r\nexport default Infos;\r\n","export const API_KEY = 'at_qDsQuzPFWx7NjSv2kVW3LKBHe5Z1W';\r\nexport const defaultData = {\r\n  ip: '...',\r\n  location: {\r\n    city: '...',\r\n    country: '...',\r\n    postalCode: '...',\r\n    timezone: '...',\r\n    lat: 999,\r\n    lng: 999,\r\n  },\r\n  isp: '...',\r\n};\r\nexport const errorData = {\r\n  ip: '---',\r\n  location: {\r\n    city: '---',\r\n    country: '---',\r\n    postalCode: '---',\r\n    timezone: '---',\r\n    lat: 999,\r\n    lng: 999,\r\n  },\r\n  isp: '---',\r\n};\r\nexport const VALID = 200;\r\n","import React, { useEffect, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './Map.scss';\r\nimport L from 'leaflet';\r\nimport * as cst from '../../utils/constants';\r\n\r\nfunction Map(props) {\r\n  const [map, setMap] = useState('');\r\n  const [marker, setMarker] = useState('');\r\n\r\n  useEffect(() => {\r\n    setMap(\r\n      L.map('map', {\r\n        center: [47, 4],\r\n        zoom: 4,\r\n        layers: [\r\n          L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {\r\n            attribution:\r\n              '&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors',\r\n          }),\r\n        ],\r\n      })\r\n    );\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (props.data.location.lat !== cst.errorData.location.lat) {\r\n      if (marker !== '') {\r\n        map.removeLayer(marker);\r\n      }\r\n      map.setView([props.data.location.lat, props.data.location.lng], 7);\r\n      setMarker(\r\n        L.marker([props.data.location.lat, props.data.location.lng]).addTo(map)\r\n      );\r\n    }\r\n  }, [props.data]);\r\n\r\n  return <div id=\"map\"></div>;\r\n}\r\n\r\nMap.propTypes = {\r\n  data: PropTypes.object,\r\n};\r\n\r\nexport default Map;\r\n","import './Home.scss';\nimport Form from './Form/Form';\nimport Infos from './Infos/Infos';\nimport Map from './Map/Map';\nimport * as cst from '../utils/constants';\nimport { useEffect, useState } from 'react';\n\nfunction Home() {\n  const [inputValue, setInputValue] = useState('');\n  const [enteredValue, setEnteredValue] = useState('');\n  const [data, setData] = useState(cst.defaultData);\n  const [searchWith, setSearchWith] = useState('ipAddress');\n\n  useEffect(() => {\n    setData(cst.defaultData); // Loading\n    const url = `https://geo.ipify.org/api/v2/country,city?apiKey=${cst.API_KEY}&${searchWith}=${enteredValue}`;\n    const fetchData = async () => {\n      try {\n        const res = await fetch(url);\n        if (res.status === cst.VALID) {\n          const data = await res.json();\n          setData(data);\n        } else {\n          setData(cst.errorData);\n          alert('Unable to get IP details');\n        }\n      } catch (error) {\n        alert('Request failed');\n      }\n    };\n    fetchData();\n  }, [enteredValue]);\n\n  const handleChange = (newValue) => {\n    setInputValue(newValue);\n  };\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (inputValue.match(/[a-zA-Z]/g)) {\n      setSearchWith('domain');\n    } else {\n      setSearchWith('ipAddress');\n    }\n    setEnteredValue(inputValue);\n  };\n\n  return (\n    <div className=\"home\">\n      <div className=\"home__text flex\">\n        <h1 className=\"text-white fs-700 fw-500\">IP Address Tracker</h1>\n        <Form\n          onChange={handleChange}\n          onSubmit={handleSubmit}\n          value={inputValue}\n        />\n        <Infos data={data} />\n      </div>\n      <Map data={data} />\n    </div>\n  );\n}\n\nexport default Home;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './main.scss';\nimport Home from './components/Home';\n\nReactDOM.render(\n  <React.StrictMode>\n    <main>\n      <Home />\n    </main>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}